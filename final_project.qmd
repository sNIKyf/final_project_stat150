---
title: "Final_project"
format: html
editor: visual
---

```{r}
#| label: setup
#| include: FALSE

library(pacman)

pacman::p_load(
  tidyverse,
  arrow,
  lubridate,
  tidygeocoder,
  janitor,
  googledrive
)

```

```{r}
#| label: data_import

taxi_data_green <- read_parquet("Data/green_tripdata_2025-05.parquet")

taxi_data_yellow <- read_parquet("Data/yellow_tripdata_2025-05.parquet")

event_data <- read_csv("Data/NYC_Event_Information_Historical_05.2025.csv") |> 
  clean_names()

event_data

```

!Do not run this code chunk

```{r}
#| label: adresses_into_coordinates

#This is how I converted the adresess data into coordinates using an API and put it into a seperate csv(Do not run this part)

options(tidygeocoder.user_agent = "My University Project <nbezverkhyi@kse.org.ua>")
event_data_coord <- event_data |>
  geocode(address = event_location, method = 'osm')

event_data_coord_pulled <- event_data_coord |>
  filter(!is.na(lat))

write_csv(event_data_coord_pulled, "NYC_Event_Information_Historical_05.2025_coordinates.csv")

```

```{r}
#| label: event_dataset
event_data_final <- read_csv("Data/NYC_Event_Information_Historical_05.2025_coordinates.csv")

event_data_final
```
